<%= render(CheckYourAnswersSummaryComponent.new(
  model: application_form,
  title: "Work history",
  fields: {
    has_work_history: {
      key: "Have you worked professionally as a teacher?",
      href: [:has_work_history, :teacher_interface, application_form, :work_histories]
    },
  }
)) %>

<% work_histories.each do |work_history| %>
  <%= render(CheckYourAnswersSummaryComponent.new(
    model: work_history,
    title: work_history.current_or_most_recent_role? ? "Your current or most recent role" : "Previous role",
    fields: {
      school_name: {
        href: [:edit, :teacher_interface, application_form, work_history]
      },
      city: {
        key: "City of institution",
        href: [:edit, :teacher_interface, application_form, work_history]
      },
      country: {
        key: "Country of institution",
        href: [:edit, :teacher_interface, application_form, work_history]
      },
      job: {
        key: "Your job role",
        href: [:edit, :teacher_interface, application_form, work_history]
      },
      email: {
        key: "Contact email address",
        href: [:edit, :teacher_interface, application_form, work_history]
      },
      start_date: {
        key: "Role start date",
        format: :without_day,
        href: [:edit, :teacher_interface, application_form, work_history]
      },
      end_date: work_history.still_employed ? {
        key: "Role end date",
        format: :without_day,
        href: [:edit, :teacher_interface, application_form, work_history]
      } : nil,
    }
  )) %>
<% end %>
