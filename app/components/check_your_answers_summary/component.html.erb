<%= govuk_summary_card(title:, html_attributes: { id: }) do |card|
  if with_action_link_to.present?
    card.with_action do
      govuk_link_to(
        with_action_link_label,
        with_action_link_to
      )
    end
  end

  card.with_summary_list do |summary_list|
    rows.each do |row_data|
      summary_list.with_row do |row|
        row.with_key { row_data.fetch(:title) }
        row.with_value { row_data.fetch(:value) }
        if changeable && (href = row_data[:href]).present?
          row.with_action(
            href:,
            visually_hidden_text: row_data.fetch(:title).downcase
          )
        end
      end
    end
  end
end %>
