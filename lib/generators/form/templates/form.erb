class <%= class_name %>Form
  include ActiveModel::Model

  attr_accessor :eligibility_check
  <% if attributes.any? -%>
attr_reader <%= attributes.map { |attribute| ":#{attribute.name}" }.join(', ') %>
  <% end -%>

  validates :eligibility_check, presence: true

  <% attributes.map do |attribute| -%>
def <%= attribute.name %>=(value)
    @<%= attribute.name %> = <%= attribute.type == :boolean ? "ActiveMode::Type.new.cast(value)" : "value" %>
  end
  <% end -%>

  def save
    return false unless valid?

    <% attributes.map do |attribute| -%>
eligibility_check.<%= attribute.name %> = <%= attribute.name %>
    <% end -%>
eligibility_check.save
  end

  def success_url
    ApplicationController.routes.url_helpers.teacher_interface_<%= plural_name %>_path
  end
end
