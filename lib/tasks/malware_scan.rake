# frozen_string_literal: true

namespace :malware_scan do
  desc "Resend blob data for uploads that have a pending malware scan result"
  task resend_stored_blob_data: :environment do
    ResendStoredBlobDataJob.perform_later
  end

  desc "Print a count of uploads with a pending malware scan result"
  task count_pending: :environment do
    upload_count = Upload.where(malware_scan_result: "pending").count
    puts "#{upload_count} uploads have a pending malware scan result"
  end
end
